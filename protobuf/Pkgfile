# Description: Protocol Buffers are a way of encoding structured data in an efficient yet extensible format.
# URL: http://code.google.com/p/protobuf/
# Maintainer: Danny Rawlins, monster dot romster at gmail dot com
# Packager: Joe M, joe9mail at gmail dot com
# Depends on: setuptools

name=protobuf
version=2.4.1
release=1
source=(http://$name.googlecode.com/files/$name-$version.tar.bz2)

build() {
	cd $name-$version

	./autogen.sh
	./configure \
		--prefix=/usr \
		--mandir=/usr/man \
		--disable-static \
		--disable-dependency-tracking

	make
	make DESTDIR=$PKG install

	cd python
	python setup.py test
	python setup.py install --prefix=/usr --root=$PKG
}
